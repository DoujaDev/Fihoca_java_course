/*
 * http://localhost:8080/h2-console
 * 
 * JDBC URL: jdbc:h2:mem:testdb
 * 
 */


DROP TABLE PRODUCTOS IF EXISTS;

CREATE TABLE PRODUCTOS(
	CODIGO		BIGINT			NOT NULL,
	NOMBRE		VARCHAR(150)	NOT NULL,
	PRECIO		DOUBLE			NOT NULL,
	PRIMARY KEY(CODIGO)
);

DROP TABLE MULTAS IF EXISTS;

CREATE TABLE MULTAS(
	CODIGO		 BIGINT			NOT NULL,
	NOMBRE_AGENTE VARCHAR(150)	NOT NULL,
	MATRICULA   VARCHAR(7)     NOT NULL, 
	MOTIVO      VARCHAR(200)    NOT NULL,
	IMPORTE		DOUBLE			NOT NULL,
	PRIMARY KEY(CODIGO)
);


DROP TABLE TUTORES		IF EXISTS;
DROP TABLE ALUMNOS		IF EXISTS;
DROP TABLE EQUIPOS		IF EXISTS;
DROP TABLE JUGADORES	IF EXISTS;


CREATE TABLE TUTORES(
	ID			BIGINT			NOT NULL,
	NOMBRE		VARCHAR(150)	NOT NULL,
	MOTE		VARCHAR(150)	NOT NULL,
	PRIMARY KEY(ID)
);

CREATE TABLE ALUMNOS(
	ID			BIGINT			NOT NULL,
	NOMBRE		VARCHAR(150)	NOT NULL,
	APELLIDOS	VARCHAR(150)	NOT NULL,
	ID_TUTOR	BIGINT			NOT NULL,
	PRIMARY KEY (ID),
	FOREIGN KEY (ID_TUTOR) REFERENCES TUTORES (ID)
);

CREATE TABLE EQUIPOS(
	ID			BIGINT			NOT NULL,
	NOMBRE		VARCHAR(150)	NOT NULL,
	MOTE		VARCHAR(150)	NOT NULL,
	ANYOFUNDACION INT			NOT NULL,
	PRIMARY KEY(ID)
);




CREATE TABLE JUGADORES(
	ID			BIGINT			NOT NULL,
	NOMBRE		VARCHAR(150)	NOT NULL,
	APELLIDOS   VARCHAR(150)	NOT NULL, 
	MOTE		VARCHAR(150)	NOT NULL,
	POSICION    VARCHAR(150)	NOT NULL,
	DORSAL      INT				NOT NULL,
	ID_EQUIPO   BIGINT			NOT NULL,
	PRIMARY KEY (ID),
	FOREIGN KEY (ID_EQUIPO) REFERENCES EQUIPOS (ID)
	
);